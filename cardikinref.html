<!DOCTYPE html>
<!--
	NOTES:
	1. All tokens are represented by '$' sign in the template.
	2. You can write your code only wherever mentioned.
	3. All occurrences of existing tokens will be replaced by their appropriate values.
	4. Blank lines will be removed automatically.
	5. Remove unnecessary comments before creating your template.
-->
<html>
<head>
<meta charset="UTF-8">
<meta name="authoring-tool" content="Adobe_Animate_CC">
<title>cardikinref</title>
<!-- write your code here -->
<script src="createjs.min.js"></script>
<script src="hammer.js"></script>
<script>
(function (cjs, an) {
var p; // shortcut to reference prototypes
var lib={};var ss={};var img={};
lib.ssMetadata = [
		{name:"cardikinref_atlas_", frames: [[1283,224,453,222],[1283,0,453,222],[1283,448,453,222],[910,1151,453,222],[0,1151,453,222],[455,1151,453,222],[1738,0,217,222],[1738,224,217,222],[0,0,1281,853],[0,855,1850,294]]}
];
// symbols:
(lib.Graficasinterfaz05 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(0);
}).prototype = p = new cjs.Sprite();
(lib.Graficasinterfaz06 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(1);
}).prototype = p = new cjs.Sprite();
(lib.Graficasinterfaz07 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(2);
}).prototype = p = new cjs.Sprite();
(lib.Graficasinterfaz08 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(3);
}).prototype = p = new cjs.Sprite();
(lib.Graficasinterfaz09 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(4);
}).prototype = p = new cjs.Sprite();
(lib.Graficasinterfaz10 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(5);
}).prototype = p = new cjs.Sprite();
(lib.Graficasinterfaz13 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(6);
}).prototype = p = new cjs.Sprite();
(lib.Graficasinterfaz14 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(7);
}).prototype = p = new cjs.Sprite();
(lib.Mapadebits11 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(8);
}).prototype = p = new cjs.Sprite();
(lib.Sombra05_Mesadetrabajo1 = function() {
	this.initialize(ss["cardikinref_atlas_"]);
	this.gotoAndStop(9);
}).prototype = p = new cjs.Sprite();
(lib.fondopopup = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// Capa_1
	this.shape = new cjs.Shape();
	this.shape.graphics.f().s("#666666").ss(1,1,1).p("EhP5g75MCfzAAAMAAAB3zMifzAAAg");
	this.shape.setTransform(511.4,383.425);
	this.shape_1 = new cjs.Shape();
	this.shape_1.graphics.f("#666666").s().p("EhP5A76MAAAh3zMCfzAAAMAAAB3zg");
	this.shape_1.setTransform(511.4,383.425);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape_1},{t:this.shape}]}).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-1,-1,1024.8,768.9);
(lib.Escena_1_cont2 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// cont2
	this.instance = new lib.Mapadebits11();
	this.instance.parent = this;
	this.instance.setTransform(16,0,0.778,0.778);
	this.timeline.addTween(cjs.Tween.get(this.instance).to({_off:true},78).wait(25));
}).prototype = p = new cjs.MovieClip();
(lib.btn_siguiente = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// Capa_1
	this.instance = new lib.Graficasinterfaz07();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.3378,0.3378);
	this.instance_1 = new lib.Graficasinterfaz10();
	this.instance_1.parent = this;
	this.instance_1.setTransform(0,0,0.3378,0.3378);
	this.shape = new cjs.Shape();
	this.shape.graphics.f("#00FF00").s().p("EgL9A5hMAAAhzAIX7AAMAAABzAg");
	this.shape.setTransform(76.6,-294.9);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.shape}]},1).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,-662.9,153.2,737.9);
(lib.btn_home = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// Capa_1
	this.instance = new lib.Graficasinterfaz06();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.3378,0.3378);
	this.instance_1 = new lib.Graficasinterfaz09();
	this.instance_1.parent = this;
	this.instance_1.setTransform(0,0,0.3378,0.3378);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_1}]},1).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,153,75);
(lib.btn_cerrar = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// Capa_1
	this.instance = new lib.Graficasinterfaz13();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.1982,0.1982);
	this.instance_1 = new lib.Graficasinterfaz14();
	this.instance_1.parent = this;
	this.instance_1.setTransform(0,0,0.1982,0.1982);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).wait(3));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,43,44);
(lib.btn_anterior = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// Capa_1
	this.instance = new lib.Graficasinterfaz05();
	this.instance.parent = this;
	this.instance.setTransform(0,0,0.3377,0.3377);
	this.instance_1 = new lib.Graficasinterfaz08();
	this.instance_1.parent = this;
	this.instance_1.setTransform(0,0,0.3377,0.3377);
	this.shape = new cjs.Shape();
	this.shape.graphics.f("#00FF00").s().p("EgL9A5hMAAAhzAIX7AAMAAABzAg");
	this.shape.setTransform(76.6,-294.9);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.instance}]}).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.instance_1}]},1).to({state:[{t:this.shape}]},1).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,-662.9,153.2,737.9);
(lib.fondopopup1 = function(mode,startPosition,loop) {
if (loop == null) { loop = false; }	this.initialize(mode,startPosition,loop,{});
	// timeline functions:
	this.frame_4 = function() {
		this.stop();
	}
	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).wait(4).call(this.frame_4).wait(1));
	// Capa_3
	this.shape = new cjs.Shape();
	this.shape.graphics.f("#FFFFFF").s("#0099FF").ss(1,1,1).rr(-445.35,-346.1,890.7,692.2,30.8);
	this.shape.setTransform(515.35,382.3);
	this.shape._off = true;
	this.timeline.addTween(cjs.Tween.get(this.shape).wait(4).to({_off:false},0).wait(1));
	// Capa_1
	this.instance = new lib.fondopopup("synched",0);
	this.instance.parent = this;
	this.instance.setTransform(511.4,383.4,1,1,0,0,0,511.4,383.4);
	this.instance.alpha = 0;
	this.timeline.addTween(cjs.Tween.get(this.instance).to({alpha:0.5898},4).wait(1));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(-1,-1,1024.8,768.9);
(lib.Escena_1_pops2 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// pops2
	this.btn_cerrar = new lib.btn_cerrar();
	this.btn_cerrar.name = "btn_cerrar";
	this.btn_cerrar.parent = this;
	this.btn_cerrar.setTransform(899.95,62.45);
	this.btn_cerrar._off = true;
	new cjs.ButtonHelper(this.btn_cerrar, 0, 1, 2, false, new lib.btn_cerrar(), 3);
	this.timeline.addTween(cjs.Tween.get(this.btn_cerrar).wait(78).to({_off:false},0).to({_off:true},5).wait(20));
}).prototype = p = new cjs.MovieClip();
(lib.Escena_1_pops1 = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// pops1
	this.instance = new lib.fondopopup1();
	this.instance.parent = this;
	this.instance.setTransform(511.4,330.9,1,0.865,0,0,0,511.4,383.4);
	this.instance._off = true;
	this.timeline.addTween(cjs.Tween.get(this.instance).wait(78).to({_off:false},0).to({_off:true},5).wait(20));
}).prototype = p = new cjs.MovieClip();
(lib.Escena_1_botones_linea = function(mode,startPosition,loop) {
	this.initialize(mode,startPosition,loop,{});
	// botones_linea
	this.btn_home = new lib.btn_home();
	this.btn_home.name = "btn_home";
	this.btn_home.parent = this;
	this.btn_home.setTransform(514.25,702,1,1,0,0,0,76.5,37.5);
	new cjs.ButtonHelper(this.btn_home, 0, 1, 2, false, new lib.btn_home(), 3);
	this.btn_siguiente = new lib.btn_siguiente();
	this.btn_siguiente.name = "btn_siguiente";
	this.btn_siguiente.parent = this;
	this.btn_siguiente.setTransform(947.5,701.1,1,1,0,0,0,76.5,37.5);
	new cjs.ButtonHelper(this.btn_siguiente, 0, 1, 2, false, new lib.btn_siguiente(), 3);
	this.btn_anterior = new lib.btn_anterior();
	this.btn_anterior.name = "btn_anterior";
	this.btn_anterior.parent = this;
	this.btn_anterior.setTransform(76.5,701.1,1,1,0,0,0,76.5,37.5);
	new cjs.ButtonHelper(this.btn_anterior, 0, 1, 2, false, new lib.btn_anterior(), 3);
	this.instance = new lib.Sombra05_Mesadetrabajo1();
	this.instance.parent = this;
	this.instance.setTransform(0,659,0.556,0.2705);
	this.shape = new cjs.Shape();
	this.shape.graphics.f("#FFFFFF").s().p("EhQFALBIAA2BMCgKAAAIAAWBg");
	this.shape.setTransform(512.55,701.0477,1,0.5312);
	this.timeline.addTween(cjs.Tween.get({}).to({state:[{t:this.shape},{t:this.instance},{t:this.btn_anterior},{t:this.btn_siguiente},{t:this.btn_home}]}).to({state:[]},78).wait(25));
}).prototype = p = new cjs.MovieClip();
// stage content:
(lib.cardikinref = function(mode,startPosition,loop) {
if (loop == null) { loop = false; }	this.initialize(mode,startPosition,loop,{});
	this.___GetDepth___ = function(obj) {
		var depth = obj.depth;
		var cameraObj = this.___camera___instance;
		if(cameraObj && cameraObj.depth && obj.isAttachedToCamera)
		{
			depth += depth + cameraObj.depth;
		}
		return depth;
		}
	this.___needSorting___ = function() {
		for (var i = 0; i < this.getNumChildren() - 1; i++)
		{
			var prevDepth = this.___GetDepth___(this.getChildAt(i));
			var nextDepth = this.___GetDepth___(this.getChildAt(i + 1));
			if (prevDepth < nextDepth)
				return true;
		}
		return false;
	}
	this.___sortFunction___ = function(obj1, obj2) {
		return (this.exportRoot.___GetDepth___(obj2) - this.exportRoot.___GetDepth___(obj1));
	}
	this.on('tick', function (event){
		var curTimeline = event.currentTarget;
		if (curTimeline.___needSorting___()){
			this.sortChildren(curTimeline.___sortFunction___);
		}
	});
	// timeline functions:
	this.frame_0 = function() {
		this.btn_anterior = this.botones_linea.btn_anterior;
		this.btn_siguiente = this.botones_linea.btn_siguiente;
		this.btn_home = this.botones_linea.btn_home;
	}
	this.frame_77 = function() {
		this.stop();
		/*
		this.clip_textos.btn1.addEventListener("click", fl_ClickToGoToAndStopAtFrame_1.bind(this));
		function fl_ClickToGoToAndStopAtFrame_1()
		{this.gotoAndStop(30);}
		this.clip_textos.btn2.addEventListener("click", fl_ClickToGoToAndStopAtFrame_2.bind(this));
		function fl_ClickToGoToAndStopAtFrame_2()
		{this.gotoAndStop(30);}
		this.clip_textos.btn3.addEventListener("click", fl_ClickToGoToAndStopAtFrame_3.bind(this));
		function fl_ClickToGoToAndStopAtFrame_3()
		{this.gotoAndStop(30);}
		this.clip_textos.btn4.addEventListener("click", fl_ClickToGoToAndStopAtFrame_4.bind(this));
		function fl_ClickToGoToAndStopAtFrame_4()
		{this.gotoAndStop(45);}
		this.clip_cajas.btn6.addEventListener("click", fl_ClickToGoToAndStopAtFrame_5.bind(this));
		function fl_ClickToGoToAndStopAtFrame_5()
		{this.gotoAndStop(35);}
		this.clip_cajas.btn9.addEventListener("click", fl_ClickToGoToAndStopAtFrame_6.bind(this));
		function fl_ClickToGoToAndStopAtFrame_6()
		{this.gotoAndStop(35);}
		this.clip_cajas.btn7.addEventListener("click", fl_ClickToGoToAndStopAtFrame_7.bind(this));
		function fl_ClickToGoToAndStopAtFrame_7()
		{this.gotoAndStop(40);}
		this.clip_cajas.btn8.addEventListener("click", fl_ClickToGoToAndStopAtFrame_8.bind(this));
		function fl_ClickToGoToAndStopAtFrame_8()
		{this.gotoAndStop(40);}
		this.clip_cajas.btn10.addEventListener("click", fl_ClickToGoToAndStopAtFrame_9.bind(this));
		function fl_ClickToGoToAndStopAtFrame_9()
		{this.gotoAndStop(40);}
		this.clip_cajas.btn11.addEventListener("click", fl_ClickToGoToAndStopAtFrame_10.bind(this));
		function fl_ClickToGoToAndStopAtFrame_10()
		{this.gotoAndStop(40);}
		*/
		
		this.btn_siguiente.addEventListener("click", fl_ClickToGoToWebPage_11);
		function fl_ClickToGoToWebPage_11() {
			window.open("index.html", "_self");
		}
		this.btn_anterior.addEventListener("click", fl_ClickToGoToWebPage_12);
		function fl_ClickToGoToWebPage_12() {
			window.open("cardikin4.html", "_self");
		}
		this.btn_home.addEventListener("click", fl_ClickToGoToWebPage_13);
		function fl_ClickToGoToWebPage_13() {
			window.open("index.html", "_self");
		}
	}
	this.frame_78 = function() {
		this.btn_anterior = undefined;this.btn_siguiente = undefined;this.btn_home = undefined;this.btn_cerrar = this.pops2.btn_cerrar;
		this.stop();
		this.btn_cerrar.addEventListener("click", fl_ClickToGoToAndStopAtFrame_11.bind(this));
		function fl_ClickToGoToAndStopAtFrame_11()
		{this.gotoAndStop(28);}
	}
	this.frame_83 = function() {
		this.btn_cerrar = undefined;
		this.stop();
		this.btn_cerrar.addEventListener("click", fl_ClickToGoToAndStopAtFrame_11.bind(this));
		function fl_ClickToGoToAndStopAtFrame_11()
		{this.gotoAndStop(28);}
	}
	this.frame_88 = function() {
		this.stop();
		this.btn_cerrar.addEventListener("click", fl_ClickToGoToAndStopAtFrame_11.bind(this));
		function fl_ClickToGoToAndStopAtFrame_11()
		{this.gotoAndStop(28);}
	}
	this.frame_93 = function() {
		this.stop();
		this.btn_cerrar.addEventListener("click", fl_ClickToGoToAndStopAtFrame_11.bind(this));
		function fl_ClickToGoToAndStopAtFrame_11()
		{this.gotoAndStop(28);}
	}
	this.frame_98 = function() {
		this.stop();
		this.btn_cerrar.addEventListener("click", fl_ClickToGoToAndStopAtFrame_11.bind(this));
		function fl_ClickToGoToAndStopAtFrame_11()
		{this.gotoAndStop(28);}
	}
	this.frame_102 = function() {
		this.___loopingOver___ = true;
	}
	// actions tween:
	this.timeline.addTween(cjs.Tween.get(this).call(this.frame_0).wait(77).call(this.frame_77).wait(1).call(this.frame_78).wait(5).call(this.frame_83).wait(5).call(this.frame_88).wait(5).call(this.frame_93).wait(5).call(this.frame_98).wait(4).call(this.frame_102).wait(1));
	// botones_linea_obj_
	this.botones_linea = new lib.Escena_1_botones_linea();
	this.botones_linea.name = "botones_linea";
	this.botones_linea.parent = this;
	this.botones_linea.setTransform(514.3,699.3,1,1,0,0,0,514.3,699.3);
	this.botones_linea.depth = 0;
	this.botones_linea.isAttachedToCamera = 0
	this.botones_linea.isAttachedToMask = 0
	this.botones_linea.layerDepth = 0
	this.botones_linea.layerIndex = 0
	this.botones_linea.maskLayerName = 0
	this.timeline.addTween(cjs.Tween.get(this.botones_linea).wait(103));
	// pops2_obj_
	this.pops2 = new lib.Escena_1_pops2();
	this.pops2.name = "pops2";
	this.pops2.parent = this;
	this.pops2.depth = 0;
	this.pops2.isAttachedToCamera = 0
	this.pops2.isAttachedToMask = 0
	this.pops2.layerDepth = 0
	this.pops2.layerIndex = 1
	this.pops2.maskLayerName = 0
	this.timeline.addTween(cjs.Tween.get(this.pops2).wait(103));
	// pops1_obj_
	this.pops1 = new lib.Escena_1_pops1();
	this.pops1.name = "pops1";
	this.pops1.parent = this;
	this.pops1.depth = 0;
	this.pops1.isAttachedToCamera = 0
	this.pops1.isAttachedToMask = 0
	this.pops1.layerDepth = 0
	this.pops1.layerIndex = 2
	this.pops1.maskLayerName = 0
	this.timeline.addTween(cjs.Tween.get(this.pops1).wait(103));
	// cont2_obj_
	this.cont2 = new lib.Escena_1_cont2();
	this.cont2.name = "cont2";
	this.cont2.parent = this;
	this.cont2.setTransform(514.3,331.8,1,1,0,0,0,514.3,331.8);
	this.cont2.depth = 0;
	this.cont2.isAttachedToCamera = 0
	this.cont2.isAttachedToMask = 0
	this.cont2.layerDepth = 0
	this.cont2.layerIndex = 3
	this.cont2.maskLayerName = 0
	this.timeline.addTween(cjs.Tween.get(this.cont2).wait(103));
}).prototype = p = new cjs.MovieClip();
p.nominalBounds = new cjs.Rectangle(0,0,1028.6,739.5);
// library properties:
lib.properties = {
	id: '1772885FE307374FBD4005FDB6A3F298',
	width: 1024,
	height: 768,
	fps: 24,
	color: "#FFFFFF",
	opacity: 1.00,
	manifest: [
		{src:"cardikinref_atlas_.png?1556238205159", id:"cardikinref_atlas_"}
	],
	preloads: []
};
// bootstrap callback support:
(lib.Stage = function(canvas) {
	createjs.Stage.call(this, canvas);
}).prototype = p = new createjs.Stage();
p.setAutoPlay = function(autoPlay) {
	this.tickEnabled = autoPlay;
}
p.play = function() { this.tickEnabled = true; this.getChildAt(0).gotoAndPlay(this.getTimelinePosition()) }
p.stop = function(ms) { if(ms) this.seek(ms); this.tickEnabled = false; }
p.seek = function(ms) { this.tickEnabled = true; this.getChildAt(0).gotoAndStop(lib.properties.fps * ms / 1000); }
p.getDuration = function() { return this.getChildAt(0).totalFrames / lib.properties.fps * 1000; }
p.getTimelinePosition = function() { return this.getChildAt(0).currentFrame / lib.properties.fps * 1000; }
an.bootcompsLoaded = an.bootcompsLoaded || [];
if(!an.bootstrapListeners) {
	an.bootstrapListeners=[];
}
an.bootstrapCallback=function(fnCallback) {
	an.bootstrapListeners.push(fnCallback);
	if(an.bootcompsLoaded.length > 0) {
		for(var i=0; i<an.bootcompsLoaded.length; ++i) {
			fnCallback(an.bootcompsLoaded[i]);
		}
	}
};
an.compositions = an.compositions || {};
an.compositions['1772885FE307374FBD4005FDB6A3F298'] = {
	getStage: function() { return exportRoot.getStage(); },
	getLibrary: function() { return lib; },
	getSpriteSheet: function() { return ss; },
	getImages: function() { return img; }
};
an.compositionLoaded = function(id) {
	an.bootcompsLoaded.push(id);
	for(var j=0; j<an.bootstrapListeners.length; j++) {
		an.bootstrapListeners[j](id);
	}
}
an.getComposition = function(id) {
	return an.compositions[id];
}
// Layer depth API : 
AdobeAn.Layer = new function() {
	this.getLayerZDepth = function(timeline, layerName)
	{
		if(layerName === "Camera")
		layerName = "___camera___instance";
		var script = "if(timeline." + layerName + ") timeline." + layerName + ".depth; else 0;";
		return eval(script);
	}
	this.setLayerZDepth = function(timeline, layerName, zDepth)
	{
		const MAX_zDepth = 10000;
		const MIN_zDepth = -5000;
		if(zDepth > MAX_zDepth)
			zDepth = MAX_zDepth;
		else if(zDepth < MIN_zDepth)
			zDepth = MIN_zDepth;
		if(layerName === "Camera")
		layerName = "___camera___instance";
		var script = "if(timeline." + layerName + ") timeline." + layerName + ".depth = " + zDepth + ";";
		eval(script);
	}
	this.removeLayer = function(timeline, layerName)
	{
		if(layerName === "Camera")
		layerName = "___camera___instance";
		var script = "if(timeline." + layerName + ") timeline.removeChild(timeline." + layerName + ");";
		eval(script);
	}
	this.addNewLayer = function(timeline, layerName, zDepth)
	{
		if(layerName === "Camera")
		layerName = "___camera___instance";
		zDepth = typeof zDepth !== 'undefined' ? zDepth : 0;
		var layer = new createjs.MovieClip();
		layer.name = layerName;
		layer.depth = zDepth;
		layer.layerIndex = 0;
		timeline.addChild(layer);
	}
}
})(createjs = createjs||{}, AdobeAn = AdobeAn||{});
var createjs, AdobeAn;
</script>
<script>
var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;
function init() {
	canvas = document.getElementById("canvas");
	anim_container = document.getElementById("animation_container");
	dom_overlay_container = document.getElementById("dom_overlay_container");
	var comp=AdobeAn.getComposition("1772885FE307374FBD4005FDB6A3F298");
	var lib=comp.getLibrary();
	var loader = new createjs.LoadQueue(false);
	loader.addEventListener("fileload", function(evt){handleFileLoad(evt,comp)});
	loader.addEventListener("complete", function(evt){handleComplete(evt,comp)});
	var lib=comp.getLibrary();
	loader.loadManifest(lib.properties.manifest);
}
function handleFileLoad(evt, comp) {
	var images=comp.getImages();	
	if (evt && (evt.item.type == "image")) { images[evt.item.id] = evt.result; }	
}
function handleComplete(evt,comp) {
	//This function is always called, irrespective of the content. You can use the variable "stage" after it is created in token create_stage.
	var lib=comp.getLibrary();
	var ss=comp.getSpriteSheet();
	var queue = evt.target;
	var ssMetadata = lib.ssMetadata;
	for(i=0; i<ssMetadata.length; i++) {
		ss[ssMetadata[i].name] = new createjs.SpriteSheet( {"images": [queue.getResult(ssMetadata[i].name)], "frames": ssMetadata[i].frames} )
	}
	exportRoot = new lib.cardikinref();
	stage = new lib.Stage(canvas);
	stage.enableMouseOver();	
	//Registers the "tick" event listener.
	fnStartAnimation = function() {
		stage.addChild(exportRoot);
		createjs.Ticker.setFPS(lib.properties.fps);
		createjs.Ticker.addEventListener("tick", stage)
		stage.addEventListener("tick", handleTick)
		function getProjectionMatrix(container, totalDepth) {
			var focalLength = 528.25;
			var projectionCenter = { x : lib.properties.width/2, y : lib.properties.height/2 };
			var scale = (totalDepth + focalLength)/focalLength;
			var scaleMat = new createjs.Matrix2D;
			scaleMat.a = 1/scale;
			scaleMat.d = 1/scale;
			var projMat = new createjs.Matrix2D;
			projMat.tx = -projectionCenter.x;
			projMat.ty = -projectionCenter.y;
			projMat = projMat.prependMatrix(scaleMat);
			projMat.tx += projectionCenter.x;
			projMat.ty += projectionCenter.y;
			return projMat;
		}
		function handleTick(event) {
			var cameraInstance = exportRoot.___camera___instance;
			if(cameraInstance !== undefined && cameraInstance.pinToObject !== undefined)
			{
				cameraInstance.x = cameraInstance.pinToObject.x + cameraInstance.pinToObject.pinOffsetX;
				cameraInstance.y = cameraInstance.pinToObject.y + cameraInstance.pinToObject.pinOffsetY;
				if(cameraInstance.pinToObject.parent !== undefined && cameraInstance.pinToObject.parent.depth !== undefined)
				cameraInstance.depth = cameraInstance.pinToObject.parent.depth + cameraInstance.pinToObject.pinOffsetZ;
			}
			applyLayerZDepth(exportRoot);
		}
		function applyLayerZDepth(parent)
		{
			var cameraInstance = parent.___camera___instance;
			var focalLength = 528.25;
			var projectionCenter = { 'x' : 0, 'y' : 0};
			if(parent === exportRoot)
			{
				var stageCenter = { 'x' : lib.properties.width/2, 'y' : lib.properties.height/2 };
				projectionCenter.x = stageCenter.x;
				projectionCenter.y = stageCenter.y;
			}
			for(child in parent.children)
			{
				var layerObj = parent.children[child];
				if(layerObj == cameraInstance)
					continue;
				applyLayerZDepth(layerObj, cameraInstance);
				if(layerObj.layerDepth === undefined)
					continue;
				if(layerObj.currentFrame != layerObj.parent.currentFrame)
				{
					layerObj.gotoAndPlay(layerObj.parent.currentFrame);
				}
				var matToApply = new createjs.Matrix2D;
				var cameraMat = new createjs.Matrix2D;
				var totalDepth = layerObj.layerDepth ? layerObj.layerDepth : 0;
				var cameraDepth = 0;
				if(cameraInstance && !layerObj.isAttachedToCamera)
				{
					var mat = cameraInstance.getMatrix();
					mat.tx -= projectionCenter.x;
					mat.ty -= projectionCenter.y;
					cameraMat = mat.invert();
					cameraMat.prependTransform(projectionCenter.x, projectionCenter.y, 1, 1, 0, 0, 0, 0, 0);
					cameraMat.appendTransform(-projectionCenter.x, -projectionCenter.y, 1, 1, 0, 0, 0, 0, 0);
					if(cameraInstance.depth)
						cameraDepth = cameraInstance.depth;
				}
				if(layerObj.depth)
				{
					totalDepth = layerObj.depth;
				}
				//Offset by camera depth
				totalDepth -= cameraDepth;
				if(totalDepth < -focalLength)
				{
					matToApply.a = 0;
					matToApply.d = 0;
				}
				else
				{
					if(layerObj.layerDepth)
					{
						var sizeLockedMat = getProjectionMatrix(parent, layerObj.layerDepth);
						if(sizeLockedMat)
						{
							sizeLockedMat.invert();
							matToApply.prependMatrix(sizeLockedMat);
						}
					}
					matToApply.prependMatrix(cameraMat);
					var projMat = getProjectionMatrix(parent, totalDepth);
					if(projMat)
					{
						matToApply.prependMatrix(projMat);
					}
				}
				layerObj.transformMatrix = matToApply;
			}
		}
	}	    
	//Code to support hidpi screens and responsive scaling.
	function makeResponsive(isResp, respDim, isScale, scaleType) {		
		var lastW, lastH, lastS=1;		
		window.addEventListener('resize', resizeCanvas);		
		resizeCanvas();		
		function resizeCanvas() {			
			var w = lib.properties.width, h = lib.properties.height;			
			var iw = window.innerWidth, ih=window.innerHeight;			
			var pRatio = window.devicePixelRatio || 1, xRatio=iw/w, yRatio=ih/h, sRatio=1;			
			if(isResp) {                
				if((respDim=='width'&&lastW==iw) || (respDim=='height'&&lastH==ih)) {                    
					sRatio = lastS;                
				}				
				else if(!isScale) {					
					if(iw<w || ih<h)						
						sRatio = Math.min(xRatio, yRatio);				
				}				
				else if(scaleType==1) {					
					sRatio = Math.min(xRatio, yRatio);				
				}				
				else if(scaleType==2) {					
					sRatio = Math.max(xRatio, yRatio);				
				}			
			}			
			canvas.width = w*pRatio*sRatio;			
			canvas.height = h*pRatio*sRatio;
			canvas.style.width = dom_overlay_container.style.width = anim_container.style.width =  w*sRatio+'px';				
			canvas.style.height = anim_container.style.height = dom_overlay_container.style.height = h*sRatio+'px';
			stage.scaleX = pRatio*sRatio;			
			stage.scaleY = pRatio*sRatio;			
			lastW = iw; lastH = ih; lastS = sRatio;            
			stage.tickOnUpdate = false;            
			stage.update();            
			stage.tickOnUpdate = true;		
		}
	}
	makeResponsive(true,'both',false,1);	
	AdobeAn.compositionLoaded(lib.properties.id);
	fnStartAnimation();
}
</script>
<!-- write your code here -->
</head>
<body onload="init();" style="margin:0px;">
	<div id="myElement">
	<div id="animation_container" style="background-color:rgba(255, 255, 255, 1.00); width:1024px; height:768px">
		<canvas id="canvas" width="1024" height="768" style="position: absolute; display: block; background-color:rgba(255, 255, 255, 1.00);"></canvas>
		<div id="dom_overlay_container" style="pointer-events:none; overflow:hidden; width:1024px; height:768px; position: absolute; left: 0px; top: 0px; display: block;">
		</div>
	</div>
	</div>
	
	<script>
	var myElement = document.getElementById('myElement');
	var mc = new Hammer(myElement);
	mc.on("panleft panright tap press", function(ev) {
    if ( ev.type == "panleft") {window.open("index.html", "_self");}
    else if ( ev.type == "panright"){window.open("cardikin4.html", "_self");}});
	</script>
</body>
</html>